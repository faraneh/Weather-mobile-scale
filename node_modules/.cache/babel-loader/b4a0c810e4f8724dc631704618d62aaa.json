{"ast":null,"code":"var _jsxFileName = \"/Users/farane/Documents/GitHub/Weather---mobile-scale/src/container/mainPage/mainPage.jsx\";\nimport React, { Component } from 'react';\nimport './mainPage.css';\nimport Chart from '../../components/chart/chart';\nimport ForcastBox from '../../components/forcastBox/forcastBox';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSortDown, faSortUp } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = 'c0a2d9288f452c1bc032007e2a3bd662';\n\nclass MainPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      backgrounds: {\n        sun: \"URL('https://images.unsplash.com/photo-1543772204-2cc21eb14509?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\",\n        rain: \"URL('https://images.unsplash.com/photo-1503429134808-fdf0cd4e1bfa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\",\n        snow: \"URL('https://images.unsplash.com/photo-1510798831971-661eb04b3739?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\"\n      },\n      moreBtnStatus: true,\n      temperature: undefined,\n      min: undefined,\n      max: undefined,\n      city: undefined,\n      country: undefined,\n      humidity: undefined,\n      weatherMain: undefined,\n      description: undefined,\n      pressure: undefined,\n      sunrise: undefined,\n      sunset: undefined,\n      windSpeed: undefined,\n      error: undefined,\n      forecastTemp: [],\n      forecastTempHigh: [],\n      forecastTempLow: [],\n      futureWeather: []\n    };\n\n    this.getWeather = async () => {\n      const city = \"New York\";\n      const country = \"US\";\n      const api_call = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${API_KEY}&units=metric`);\n      const data = await api_call.json();\n\n      if (city && country) {\n        this.setState({\n          temperature: parseInt(data.main.temp),\n          min: parseInt(data.main.temp_min),\n          max: parseInt(data.main.temp_max),\n          city: data.name,\n          country: data.sys.country,\n          humidity: data.main.humidity,\n          pressure: parseInt(data.main.pressure),\n          sunrise: data.sys.sunrise,\n          sunset: data.sys.sunset,\n          windSpeed: data.wind.speed,\n          description: data.weather[0].description,\n          weatherMain: data.weather[0].main,\n          error: \"\"\n        });\n      } else {\n        this.setState({\n          temperature: undefined,\n          city: undefined,\n          country: undefined,\n          humidity: undefined,\n          description: undefined,\n          min: undefined,\n          max: undefined,\n          pressure: undefined,\n          sunrise: undefined,\n          sunset: undefined,\n          windSpeed: undefined,\n          error: \"Error\"\n        });\n      }\n    };\n\n    this.getForecast = async () => {\n      const api_call = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=40.71&lon=-74.01&exclude=current&appid=${API_KEY}&units=metric`);\n      const data = await api_call.json();\n      let futureTemps = [];\n      let futureTempsMin = [];\n      let futureTempsMax = [];\n      let futureWeather = [];\n      data.daily.map(el => futureTemps.push(parseInt(el.temp.day)));\n      data.daily.map(el => futureTempsMin.push(parseInt(el.temp.min)));\n      data.daily.map(el => futureTempsMax.push(parseInt(el.temp.max)));\n      data.daily.map((el, index) => futureWeather.push(el.weather[0].main));\n      this.setState({\n        forecastTemp: futureTemps,\n        forecastTempHigh: futureTempsMax,\n        forecastTempLow: futureTempsMin,\n        futureWeather: futureWeather\n      });\n    };\n\n    this.moreBtnHandler = () => {\n      this.state.moreBtnStatus === true ? this.setState({\n        moreBtnStatus: false\n      }) : this.setState({\n        moreBtnStatus: true\n      });\n    };\n\n    this.convertTimestamp = timestamp => {\n      var d = new Date(timestamp * 1000),\n          hh = d.getHours(),\n          h = hh,\n          min = ('0' + d.getMinutes()).slice(-2),\n          ampm = 'am',\n          hour;\n\n      if (hh > 12) {\n        h = hh - 12;\n        ampm = 'pm';\n      } else if (hh === 12) {\n        h = 12;\n        ampm = 'PM';\n      } else if (hh === 0) {\n        h = 12;\n      }\n\n      hour = h + ':' + min + ' ' + ampm;\n      return hour;\n    };\n  }\n\n  componentDidMount() {\n    this.getWeather();\n    this.getForecast();\n  }\n\n  render() {\n    console.log(this.state.weatherMain);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MainPage\",\n      style: {\n        backgroundImage: this.state.weatherMain === 'Rain' ? this.state.backgrounds.rain : this.state.weatherMain === 'Snow' ? this.state.backgrounds.snow : this.state.backgrounds.sun\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"currentStatus\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cityName\",\n          children: [this.state.city, \", \", this.state.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Temperature\",\n          children: [this.state.temperature, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: this.state.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"highLow\",\n          children: [\"H: \", this.state.max, \"\\xB0  L: \", this.state.min, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sevendaysTable\",\n        children: this.state.forecastTemp.map((el, index) => /*#__PURE__*/_jsxDEV(ForcastBox, {\n          temp: el,\n          weather: this.state.futureWeather[index]\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sevenDaysChart\",\n        children: /*#__PURE__*/_jsxDEV(Chart, {\n          dataMax: this.state.forecastTempHigh,\n          dataMin: this.state.forecastTempLow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"moreBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"more\",\n          onClick: this.moreBtnHandler,\n          style: {\n            display: this.state.moreBtnStatus ? 'block' : 'none'\n          },\n          children: [\"See More \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 149\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSortDown\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 155\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"moreInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"extraInfo\",\n          style: {\n            display: this.state.moreBtnStatus ? 'none' : 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extraBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxTitle\",\n              children: \"Wind Speed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxDetail\",\n              children: [this.state.windSpeed, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"unit\",\n                children: \"Km\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 86\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extraBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxTitle\",\n              children: \"Humidity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxDetail\",\n              children: [this.state.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"extraInfo\",\n          style: {\n            display: this.state.moreBtnStatus ? 'none' : 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extraBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxTitle\",\n              children: \"Pressure\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxDetail\",\n              children: [this.state.pressure, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"unit\",\n                children: \"hPa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extraBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxTitle\",\n              children: \"Sunrise-Sunset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"extraBoxDetail\",\n              style: {\n                marginTop: 0,\n                fontSize: '2rem'\n              },\n              children: [this.convertTimestamp(this.state.sunrise), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 147\n              }, this), \" \", this.convertTimestamp(this.state.sunset)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"more\",\n          onClick: this.moreBtnHandler,\n          style: {\n            display: this.state.moreBtnStatus ? 'none' : 'block'\n          },\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSortUp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 140\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 175\n          }, this), \"See Less \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/farane/Documents/GitHub/Weather---mobile-scale/src/container/mainPage/mainPage.jsx"],"names":["React","Component","Chart","ForcastBox","FontAwesomeIcon","faSortDown","faSortUp","API_KEY","MainPage","state","backgrounds","sun","rain","snow","moreBtnStatus","temperature","undefined","min","max","city","country","humidity","weatherMain","description","pressure","sunrise","sunset","windSpeed","error","forecastTemp","forecastTempHigh","forecastTempLow","futureWeather","getWeather","api_call","fetch","data","json","setState","parseInt","main","temp","temp_min","temp_max","name","sys","wind","speed","weather","getForecast","futureTemps","futureTempsMin","futureTempsMax","daily","map","el","push","day","index","moreBtnHandler","convertTimestamp","timestamp","d","Date","hh","getHours","h","getMinutes","slice","ampm","hour","componentDidMount","render","console","log","backgroundImage","display","marginTop","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './mainPage.css';\nimport Chart from '../../components/chart/chart';\nimport ForcastBox from '../../components/forcastBox/forcastBox';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSortDown, faSortUp } from '@fortawesome/free-solid-svg-icons'\n\nconst API_KEY = 'c0a2d9288f452c1bc032007e2a3bd662';\n\nclass MainPage extends Component {\n    state={\n        backgrounds : {\n            sun : \"URL('https://images.unsplash.com/photo-1543772204-2cc21eb14509?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\",\n            rain : \"URL('https://images.unsplash.com/photo-1503429134808-fdf0cd4e1bfa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\",\n            snow : \"URL('https://images.unsplash.com/photo-1510798831971-661eb04b3739?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1287&q=80')\",\n        },\n        moreBtnStatus: true,\n        temperature: undefined,\n        min: undefined,\n        max: undefined,\n        city: undefined,\n        country: undefined,\n        humidity: undefined,\n        weatherMain: undefined,\n        description: undefined,\n        pressure:undefined,\n        sunrise: undefined,\n        sunset: undefined,\n        windSpeed: undefined,\n        error: undefined,\n        forecastTemp: [],\n        forecastTempHigh: [],\n        forecastTempLow: [],\n        futureWeather: [],\n      }\n\n      componentDidMount() {\n          this.getWeather();\n          this.getForecast();\n\n\n      }\n\n\n\n      getWeather = async () => {\n\n        const city = \"New York\";\n        const country = \"US\";\n        const api_call = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${API_KEY}&units=metric`);\n        const data = await api_call.json();\n        if (city && country) {\n          this.setState({\n            temperature: parseInt(data.main.temp),\n            min: parseInt(data.main.temp_min),\n            max: parseInt(data.main.temp_max),\n            city: data.name,\n            country: data.sys.country,\n            humidity: data.main.humidity,\n            pressure:parseInt(data.main.pressure),\n            sunrise: data.sys.sunrise,\n            sunset: data.sys.sunset,\n            windSpeed: data.wind.speed,\n            description: data.weather[0].description,\n            weatherMain: data.weather[0].main,\n            error: \"\"\n          });\n        } else {\n          this.setState({\n            temperature: undefined,\n            city: undefined,\n            country: undefined,\n            humidity: undefined,\n            description: undefined,\n            min: undefined,\n            max: undefined,\n            pressure:undefined,\n            sunrise: undefined,\n            sunset: undefined,\n            windSpeed: undefined,\n            error: \"Error\"\n          });\n        }\n      }\n\n      getForecast = async () => { \n        const api_call = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=40.71&lon=-74.01&exclude=current&appid=${API_KEY}&units=metric`);\n        const data = await api_call.json();\n        let futureTemps = [];\n        let futureTempsMin = [];\n        let futureTempsMax = [];\n        let futureWeather = [];\n        data.daily.map(el => futureTemps.push(parseInt(el.temp.day)));\n        data.daily.map(el => futureTempsMin.push(parseInt(el.temp.min)));\n        data.daily.map(el => futureTempsMax.push(parseInt(el.temp.max)));\n        data.daily.map((el, index) => futureWeather.push(el.weather[0].main));\n        this.setState({forecastTemp : futureTemps, forecastTempHigh: futureTempsMax, forecastTempLow: futureTempsMin, futureWeather : futureWeather});\n        \n      }\n    \n    moreBtnHandler = () => { \n        this.state.moreBtnStatus === true ? this.setState({moreBtnStatus : false}) : this.setState({moreBtnStatus : true});\n    }\n\n    convertTimestamp = (timestamp) => {\n        var d = new Date(timestamp * 1000),\n            hh = d.getHours(),\n            h = hh,\n            min = ('0' + d.getMinutes()).slice(-2),\n            ampm = 'am',\n            hour;\n                \n        if (hh > 12) {\n            h = hh - 12;\n            ampm = 'pm';\n        } else if (hh === 12) {\n            h = 12;\n            ampm = 'PM';\n        } else if (hh === 0) {\n            h = 12;\n        }\n    \n        hour = h + ':' + min + ' ' + ampm\n\t\t\n\treturn hour;\n}\n\n\n\n\n    render() { \n\n        console.log(this.state.weatherMain);\n        return (\n            <div className=\"MainPage\" style={{backgroundImage: this.state.weatherMain === 'Rain' ? this.state.backgrounds.rain : this.state.weatherMain === 'Snow' ? this.state.backgrounds.snow : this.state.backgrounds.sun }}>\n                {/* main box - current status  */}\n                <div className=\"currentStatus\">\n                    <div className=\"cityName\">{this.state.city}, {this.state.country}</div>\n                    <div className=\"Temperature\">{this.state.temperature}°</div>\n                    <div className=\"status\">{this.state.description}</div>\n                    <div className=\"highLow\">H: {this.state.max}°  L: {this.state.min}°</div>\n                </div>\n\n                {/* 7days forcast chart */}\n                <div className=\"sevendaysTable\">\n                    {this.state.forecastTemp.map((el, index) =>\n                        <ForcastBox temp={el} weather={this.state.futureWeather[index]} key={index}/>\n                    )}\n                </div>\n                <div className=\"sevenDaysChart\">\n                    <Chart dataMax={this.state.forecastTempHigh} dataMin={this.state.forecastTempLow} />\n                </div>\n\n                {/* Extra detail - wind speed / humidity / pressure / sunrise and sunset time */}\n                <div className=\"moreBtn\">\n                    <button className=\"more\" onClick={this.moreBtnHandler} style={{display : this.state.moreBtnStatus ? 'block' : 'none'}}>See More <br /><FontAwesomeIcon icon={faSortDown} /></button>\n                </div>\n                <div className=\"moreInfo\">\n                    <div className=\"extraInfo\" style={{display : this.state.moreBtnStatus ? 'none' : 'flex'}}>\n                            <div className=\"extraBox\">\n                                <p className='extraBoxTitle'>Wind Speed</p>\n                                <p className=\"extraBoxDetail\">{this.state.windSpeed} <span className=\"unit\">Km</span></p>\n                            </div>\n                            <div className=\"extraBox\">\n                                <p className='extraBoxTitle'>Humidity</p>\n                                <p className=\"extraBoxDetail\">{this.state.humidity}%</p>\n                            </div>\n                    </div>\n                    <div className=\"extraInfo\" style={{display : this.state.moreBtnStatus ? 'none' : 'flex'}}>\n                            <div className=\"extraBox\">\n                                <p className='extraBoxTitle'>Pressure</p>\n                                <p className=\"extraBoxDetail\">{this.state.pressure} <span className=\"unit\">hPa</span></p>\n                            </div>\n                            <div className=\"extraBox\">\n                                <p className='extraBoxTitle'>Sunrise-Sunset</p>\n                                <p className=\"extraBoxDetail\" style={{marginTop: 0, fontSize: '2rem'}}>{this.convertTimestamp(this.state.sunrise)}<br /> {this.convertTimestamp(this.state.sunset)}</p>\n                            </div>\n                    </div>\n                    <button className=\"more\" onClick={this.moreBtnHandler} style={{display : this.state.moreBtnStatus ? 'none' : 'block'}}><FontAwesomeIcon icon={faSortUp} /><br />See Less </button>\n                </div>\n\n            </div>\n        );\n    }\n}\n \nexport default MainPage;"]},"metadata":{},"sourceType":"module"}